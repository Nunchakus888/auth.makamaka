"use strict";(self.webpackChunkauth_makamaka_io=self.webpackChunkauth_makamaka_io||[]).push([[456],{5103:function(e,r,i){i(2791);r.Z=i.p+"static/media/social-discord.c94e8c2e9b1457328ae49f3e0b169146.svg"},4387:function(e,r,i){i(2791);r.Z=i.p+"static/media/social-google.9887eb8eb43729cb99f402cfa0de3c44.svg"},5177:function(e,r,i){var t=i(2791);r.Z=()=>{const e=(0,t.useRef)(!0);return(0,t.useEffect)((()=>()=>{e.current=!1}),[]),e}},7525:function(e,r,i){var t=i(390);r.Z=(0,t.lX)()},4904:function(e,r,i){var t=i(3701),s=i(4554),n=i(6630),o=i(184);r.Z=e=>{const r=n.Z.logo,i=n.Z.logoWidth;return(0,o.jsx)(t.Z,{disabled:!0,children:(0,o.jsx)(s.Z,{sx:{display:"flex",gap:"5px",alignItems:"center"},children:(0,o.jsx)("img",{src:r,alt:"logo",style:{width:i}})})})}},8714:function(e,r,i){var t=i(2791),s=i(8258),n=i(6760),o=i(184);const l=(0,t.forwardRef)(((e,r)=>{var i,t;let l,a,{children:c,type:d,direction:u,offset:h,scale:x}=e;switch(u){case"up":case"left":l=h,a=0;break;default:l=0,a=h}const[g,m]=(0,s.n)(l,a),[Z,p]=(0,s.n)(l,a);switch(d){case"rotate":return(0,o.jsx)(n.E.div,{ref:r,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:c});case"slide":return"up"===u||"down"===u?(0,o.jsx)(n.E.div,{ref:r,animate:{y:void 0!==Z?Z:""},onHoverEnd:()=>p(),onHoverStart:()=>p(),children:c}):(0,o.jsx)(n.E.div,{ref:r,animate:{x:void 0!==g?g:""},onHoverEnd:()=>m(),onHoverStart:()=>m(),children:c});default:return"number"===typeof x&&(x={hover:x,tap:x}),(0,o.jsx)(n.E.div,{ref:r,whileHover:{scale:null===(i=x)||void 0===i?void 0:i.hover},whileTap:{scale:null===(t=x)||void 0===t?void 0:t.tap},children:c})}}));l.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},r.Z=l},7453:function(e,r,i){i.d(r,{Z:function(){return g}});var t=i(4554),s=i(2791),n=i(3967),o=i(7621),l=i(9585),a=i(890),c=i(7924),d=i(9504),u=i(184);const h={"& .MuiCardHeader-action":{mr:0}};var x=(0,s.forwardRef)(((e,r)=>{let{border:i=!0,boxShadow:t,children:s,content:x=!0,contentClass:g="",contentSX:m={},darkTitle:Z,secondary:p,shadow:j,sx:v={},title:b,...y}=e;const _=(0,n.Z)();return(0,u.jsxs)(o.Z,{ref:r,...y,sx:{border:i?"1px solid":"none",borderColor:_.palette.primary[200]+75,":hover":{boxShadow:t?j||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"},backgroundColor:"#E5E2FF",...v,".MuiCardContent-root:last-child":{paddingBottom:"12px"}},children:[!Z&&b&&(0,u.jsx)(l.Z,{sx:h,title:b,action:p}),Z&&b&&(0,u.jsx)(l.Z,{sx:h,title:(0,u.jsx)(a.Z,{variant:"h3",children:b}),action:p}),b&&(0,u.jsx)(c.Z,{}),x&&(0,u.jsx)(d.Z,{sx:m,className:g,children:s}),!x&&s]})}));var g=e=>{let{children:r,...i}=e;return(0,u.jsx)(x,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...i,children:(0,u.jsx)(t.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:r})})}},2828:function(e,r,i){const t=(0,i(7630).ZP)("div")((e=>{let{theme:r}=e;return{backgroundColor:r.palette.primary.light,minHeight:"100vh"}}));r.Z=t},4456:function(e,r,i){i.r(r),i.d(r,{default:function(){return Q}});var t=i(3504),s=i(3967),n=i(5193),o=i(1889),l=i(3767),a=i(890),c=i(7924),d=i(6513),u=i(2828),h=i(7453),x=i(4904),g=i(2791),m=i(9434),Z=i(6630),p=i(8413),j=i(5661),v=i(3400),b=i(6151),y=i(4554),_=i(9157),w=i(7123),f=i(8096),C=i(4925),k=i(635),P=i(7071),S=i(3466),K=i(5523),R=i(9174),E=i(1724),I=i(5705),z=i(5177),B=i(4387),W=i(5103),M=i(8714),H=i(8781);const U=e=>{let r=0;return e.length>5&&(r+=1),e.length>7&&(r+=1),(e=>new RegExp(/[0-9]/).test(e))(e)&&(r+=1),(e=>new RegExp(/[!#@$%^&*)(+=._-]/).test(e))(e)&&(r+=1),(e=>new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e))(e)&&(r+=1),r};var D=i(9021),q=i(9823),F=i(3746),L=i(165),G=i(8395),$=i(7525),A=i(1731),T=i(5332),J=i(184);const N=Z.Z.signupJumpLink||"/",V=(0,T.Z)(p.Z)((e=>{let{theme:r}=e;return{"& .MuiDialogContent-root":{padding:r.spacing(2)},"& .MuiDialogActions-root":{padding:r.spacing(1)}}}));function X(e){const{children:r,onClose:i,...t}=e;return(0,J.jsxs)(j.Z,{sx:{m:0,p:2},...t,children:[r,i?(0,J.jsx)(v.Z,{"aria-label":"close",onClick:i,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,J.jsx)(q.Z,{})}):null]})}var O=e=>{let{...r}=e;const i=(0,s.Z)(),l=(0,z.Z)(),u=(0,n.Z)(i.breakpoints.down("md")),h=(0,m.v9)((e=>e.customization)),[x,p]=(0,g.useState)(!1),[j,q]=(0,g.useState)(!1),T=(0,A.Z)(),[O,Q]=(0,g.useState)(0),[Y,ee]=(0,g.useState)(!1),[re,ie]=(0,g.useState)(!1),te=new URLSearchParams($.Z.location.search),[se,ne]=(0,g.useState)(te.get("invitecode")),[oe,le]=(0,g.useState)(0),[ae,ce]=(0,g.useState)(),de=()=>{window.open("./user_agreement.pdf")},ue=()=>{window.open("./privacy_policy.pdf")},he=()=>{ee(!1)},xe=()=>{ie(!1)},ge=e=>{window.location.href=Z.Z.loginURL+"/"+e},me=()=>{p(!x)},Ze=e=>{e.preventDefault()},pe=e=>{const r=U(e);var i;le(r),ce((i=r)<2?{label:"Poor",color:H.Z.errorMain}:i<3?{label:"Weak",color:H.Z.warningDark}:i<4?{label:"Normal",color:H.Z.orangeMain}:i<5?{label:"Good",color:H.Z.successMain}:i<6?{label:"Strong",color:H.Z.successDark}:{label:"Poor",color:H.Z.errorMain})};return(0,g.useEffect)((()=>{const e=new URLSearchParams(window.location.search);Q(e.get("login")),"1"===e.get("login")&&location.replace(N)}),[]),(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)(o.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:["miaohua"!==Z.C&&(0,J.jsxs)(g.Fragment,{children:[(0,J.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,J.jsx)(M.Z,{children:(0,J.jsxs)(b.Z,{variant:"outlined",fullWidth:!0,onClick:()=>ge("google"),size:"large",sx:{color:"grey.700",backgroundColor:i.palette.grey[50],borderColor:i.palette.grey[100]},children:[(0,J.jsx)(y.Z,{sx:{mr:{xs:1,sm:2,width:20}},children:(0,J.jsx)("img",{src:B.Z,alt:"google",width:16,height:16,style:{marginRight:u?8:16}})}),(0,J.jsx)(d.cC,{i18nKey:"user.register_google",children:D.Z.user.register_google})]})}),(0,J.jsx)(M.Z,{children:(0,J.jsxs)(b.Z,{variant:"outlined",fullWidth:!0,onClick:()=>ge("discord"),size:"large",sx:{color:"grey.700",backgroundColor:i.palette.grey[50],borderColor:i.palette.grey[100],mt:2},children:[(0,J.jsx)(y.Z,{sx:{mr:{xs:1,sm:2,width:20}},children:(0,J.jsx)("img",{src:W.Z,alt:"discord",width:16,height:16,style:{marginRight:u?8:16}})}),(0,J.jsx)(d.cC,{i18nKey:"user.register_discord",children:D.Z.user.register_discord})]})})]}),(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsxs)(y.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,J.jsx)(c.Z,{sx:{flexGrow:1},orientation:"horizontal"}),(0,J.jsx)(b.Z,{variant:"outlined",sx:{cursor:"unset",m:2,py:.5,px:7,borderColor:`${i.palette.grey[100]} !important`,color:`${i.palette.grey[900]}!important`,fontWeight:500,borderRadius:`${h.borderRadius}px`},disableRipple:!0,disabled:!0,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_or",children:D.Z.user.register_or})}),(0,J.jsx)(c.Z,{sx:{flexGrow:1},orientation:"horizontal"})]})})]}),(0,J.jsx)(o.ZP,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:(0,J.jsx)(y.Z,{sx:{mb:2},children:(0,J.jsx)(a.Z,{variant:"subtitle1",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_tips2",children:D.Z.user.register_tips2})})})})]}),(0,J.jsxs)(V,{onClose:he,"aria-labelledby":"customized-dialog-title",open:Y,children:[(0,J.jsx)(X,{id:"customized-dialog-title",onClose:he,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_agree_title",children:D.Z.user.register_agree_title})}),(0,J.jsx)(_.Z,{dividers:!0,children:(0,J.jsx)(a.Z,{gutterBottom:!0,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_agree_Content",children:D.Z.user.register_agree_Content})})}),(0,J.jsx)(w.Z,{children:(0,J.jsx)(b.Z,{onClick:he,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_agree_bottom",children:D.Z.user.register_agree_bottom})})})]}),(0,J.jsxs)(V,{onClose:xe,"aria-labelledby":"customized-dialog-title",open:re,children:[(0,J.jsx)(X,{id:"customized-dialog-title",onClose:xe,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_agree_title",children:D.Z.user.register_agree_title})}),(0,J.jsx)(_.Z,{dividers:!0,children:(0,J.jsx)(a.Z,{gutterBottom:!0,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_agree_Content",children:D.Z.user.register_agree_Content})})}),(0,J.jsx)(w.Z,{children:(0,J.jsx)(b.Z,{onClick:xe,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_agree_bottom",children:D.Z.user.register_agree_bottom})})})]}),(0,J.jsx)(I.J9,{initialValues:{email:"",password:"",submit:null,username:"",invite_code:se,checked:!1},validationSchema:E.Ry().shape({email:E.Z_().email("Must be a valid email").max(255).required("Email is required"),password:E.Z_().max(255).required("Password is required"),username:E.Z_().max(255).required("Username is required"),checked:E.O7().test("checked","checked is required",((e,r)=>!0===e))}),onSubmit:async(e,r)=>{let{setErrors:i,setStatus:t,setSubmitting:s}=r;if("0"===O){const r=new URLSearchParams($.Z.location.search);e.provider=r.get("provider"),e.provprovider_user_idider=r.get("provider_user_id"),e.provider_user_login=r.get("provider_user_login"),e.invite_code=r.get("invite_code")}const{code:n,msg:o}=await G.IU(e).catch((e=>e));try{0===n?($.Z.replace({pathname:"/checking",state:{}}),$.Z.go(0)):T(109===n?"\u90ae\u7bb1\u5df2\u88ab\u6ce8\u518c":110===n?"\u7528\u6237\u540d\u5df2\u88ab\u4f7f\u7528":111===n?"\u90ae\u7bb1\u4e0d\u901a\uff0c\u53d1\u9001\u90ae\u4ef6\u5931\u8d25":112===n?"\u9080\u8bf7\u7801\u4e0d\u5bf9":o||G.c9,{variant:"error"}),l.current&&(t({success:!0}),s(!1))}catch(a){console.error(a),l.current&&(t({success:!1}),i({submit:a.message}),s(!1))}},children:e=>{let{errors:s,handleBlur:n,handleChange:l,handleSubmit:c,isSubmitting:u,touched:h,values:g}=e;return(0,J.jsxs)("form",{noValidate:!0,onSubmit:c,...r,children:[(0,J.jsxs)(f.Z,{fullWidth:!0,error:Boolean(h.username&&s.username),sx:{...i.typography.customInput},children:[(0,J.jsx)(C.Z,{htmlFor:"outlined-adornment-email-register",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_username",children:D.Z.user.register_username})}),(0,J.jsx)(k.Z,{id:"outlined-adornment-email-register",type:"username",value:g.username,name:"username",onBlur:n,onChange:l,inputProps:{}}),h.username&&s.username&&(0,J.jsx)(P.Z,{error:!0,id:"standard-weight-helper-text--register",children:s.username})]}),(0,J.jsxs)(f.Z,{fullWidth:!0,error:Boolean(h.email&&s.email),sx:{...i.typography.customInput},children:[(0,J.jsx)(C.Z,{htmlFor:"outlined-adornment-email-register",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_email",children:D.Z.user.register_email})}),(0,J.jsx)(k.Z,{id:"outlined-adornment-email-register",type:"email",value:g.email,name:"email",onBlur:n,onChange:l,inputProps:{}}),h.email&&s.email&&(0,J.jsx)(P.Z,{error:!0,id:"standard-weight-helper-text--register",children:s.email})]}),(0,J.jsxs)(f.Z,{fullWidth:!0,error:Boolean(h.password&&s.password),sx:{...i.typography.customInput},children:[(0,J.jsx)(C.Z,{htmlFor:"outlined-adornment-password-register",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_password",children:D.Z.user.register_password})}),(0,J.jsx)(k.Z,{id:"outlined-adornment-password-register",type:x?"text":"password",value:g.password,name:"password",label:"Password",onBlur:n,onChange:e=>{l(e),pe(e.target.value)},endAdornment:(0,J.jsx)(S.Z,{position:"end",children:(0,J.jsx)(v.Z,{"aria-label":"toggle password visibility",onClick:me,onMouseDown:Ze,edge:"end",size:"large",children:x?(0,J.jsx)(F.Z,{}):(0,J.jsx)(L.Z,{})})}),inputProps:{}}),h.password&&s.password&&(0,J.jsx)(P.Z,{error:!0,id:"standard-weight-helper-text-password-register",children:s.password})]}),0!==oe&&(0,J.jsx)(f.Z,{fullWidth:!0,children:(0,J.jsx)(y.Z,{sx:{mb:2},children:(0,J.jsxs)(o.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,J.jsx)(o.ZP,{item:!0,children:(0,J.jsx)(y.Z,{style:{backgroundColor:null===ae||void 0===ae?void 0:ae.color},sx:{width:85,height:8,borderRadius:"7px"}})}),(0,J.jsx)(o.ZP,{item:!0,children:(0,J.jsx)(a.Z,{variant:"subtitle1",fontSize:"0.75rem",children:null===ae||void 0===ae?void 0:ae.label})})]})})}),(0,J.jsx)(o.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,J.jsx)(o.ZP,{item:!0,children:(0,J.jsx)(K.Z,{control:(0,J.jsx)(R.Z,{checked:j,onChange:e=>{l(e),q(e.target.checked)},name:"checked",color:"primary"}),label:(0,J.jsxs)(a.Z,{variant:"subtitle1",children:[(0,J.jsx)(d.cC,{i18nKey:"user.register_aw1",children:D.Z.user.register_aw1}),(0,J.jsx)(a.Z,{variant:"subtitle1",component:t.rU,to:"#",onClick:de,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_aw2.user_agreement",children:D.Z.user.register_aw2.user_agreement})}),(0,J.jsx)(d.cC,{i18nKey:"user.register_aw2.and",children:D.Z.user.register_aw2.and}),(0,J.jsx)(a.Z,{variant:"subtitle1",component:t.rU,to:"#",onClick:ue,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_aw2.privacy_policy",children:D.Z.user.register_aw2.privacy_policy})})]})})})}),h.checked&&s.checked&&(0,J.jsx)(P.Z,{error:!0,id:"standard-weight-helper-text--register",children:s.checked}),s.submit&&(0,J.jsx)(y.Z,{sx:{mt:3},children:(0,J.jsx)(P.Z,{error:!0,children:s.submit})}),(0,J.jsx)(y.Z,{sx:{mt:2},children:(0,J.jsx)(M.Z,{children:(0,J.jsx)(b.Z,{disableElevation:!0,disabled:u,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_lable",children:D.Z.user.register_lable})})})})]})}})]})};var Q=()=>{const e=(0,s.Z)(),r=(0,n.Z)(e.breakpoints.down("md"));return(0,J.jsx)(u.Z,{children:(0,J.jsx)(o.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsx)(o.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,J.jsx)(o.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,J.jsx)(h.Z,{children:(0,J.jsxs)(o.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,J.jsx)(o.ZP,{item:!0,sx:{mb:3},children:(0,J.jsx)(x.Z,{})}),(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsx)(o.ZP,{container:!0,direction:r?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,J.jsx)(o.ZP,{item:!0,children:(0,J.jsx)(l.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:(0,J.jsx)(a.Z,{color:e.palette.secondary.main,gutterBottom:!0,variant:r?"h3":"h2",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_lable",children:D.Z.user.register_lable})})})})})}),(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsx)(O,{})}),(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsx)(c.Z,{})}),(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsx)(o.ZP,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:(0,J.jsx)(a.Z,{component:t.rU,to:"/login",variant:"subtitle1",sx:{textDecoration:"none"},children:(0,J.jsx)(d.cC,{i18nKey:"user.register_tosignup",children:D.Z.user.register_tosignup})})})})]})})})})})})})}}}]);
//# sourceMappingURL=456.0d88dbcf.chunk.js.map