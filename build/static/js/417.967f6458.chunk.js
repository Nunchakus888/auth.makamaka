"use strict";(self.webpackChunkauth_makamaka_io=self.webpackChunkauth_makamaka_io||[]).push([[417],{5103:function(e,r,t){t(2791);r.Z=t.p+"static/media/social-discord.c94e8c2e9b1457328ae49f3e0b169146.svg"},4387:function(e,r,t){t(2791);r.Z=t.p+"static/media/social-google.9887eb8eb43729cb99f402cfa0de3c44.svg"},5177:function(e,r,t){var i=t(2791);r.Z=()=>{const e=(0,i.useRef)(!0);return(0,i.useEffect)((()=>()=>{e.current=!1}),[]),e}},7525:function(e,r,t){var i=t(390);r.Z=(0,i.lX)()},4904:function(e,r,t){var i=t(3701),n=t(4554),o=t(6630),s=t(184);r.Z=e=>{const r=o.Z.logo,t=o.Z.logoWidth;return(0,s.jsx)(i.Z,{disabled:!0,children:(0,s.jsx)(n.Z,{sx:{display:"flex",gap:"5px",alignItems:"center"},children:(0,s.jsx)("img",{src:r,alt:"logo",style:{width:t}})})})}},8714:function(e,r,t){var i=t(2791),n=t(8258),o=t(6760),s=t(184);const a=(0,i.forwardRef)(((e,r)=>{var t,i;let a,l,{children:d,type:c,direction:u,offset:h,scale:m}=e;switch(u){case"up":case"left":a=h,l=0;break;default:a=0,l=h}const[p,x]=(0,n.n)(a,l),[g,Z]=(0,n.n)(a,l);switch(c){case"rotate":return(0,s.jsx)(o.E.div,{ref:r,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:d});case"slide":return"up"===u||"down"===u?(0,s.jsx)(o.E.div,{ref:r,animate:{y:void 0!==g?g:""},onHoverEnd:()=>Z(),onHoverStart:()=>Z(),children:d}):(0,s.jsx)(o.E.div,{ref:r,animate:{x:void 0!==p?p:""},onHoverEnd:()=>x(),onHoverStart:()=>x(),children:d});default:return"number"===typeof m&&(m={hover:m,tap:m}),(0,s.jsx)(o.E.div,{ref:r,whileHover:{scale:null===(t=m)||void 0===t?void 0:t.hover},whileTap:{scale:null===(i=m)||void 0===i?void 0:i.tap},children:d})}}));a.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},r.Z=a},7453:function(e,r,t){t.d(r,{Z:function(){return p}});var i=t(4554),n=t(2791),o=t(3967),s=t(7621),a=t(9585),l=t(890),d=t(7924),c=t(9504),u=t(184);const h={"& .MuiCardHeader-action":{mr:0}};var m=(0,n.forwardRef)(((e,r)=>{let{border:t=!0,boxShadow:i,children:n,content:m=!0,contentClass:p="",contentSX:x={},darkTitle:g,secondary:Z,shadow:v,sx:f={},title:j,...b}=e;const y=(0,o.Z)();return(0,u.jsxs)(s.Z,{ref:r,...b,sx:{border:t?"1px solid":"none",borderColor:y.palette.primary[200]+75,":hover":{boxShadow:i?v||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"},backgroundColor:"#E5E2FF",...f,".MuiCardContent-root:last-child":{paddingBottom:"12px"}},children:[!g&&j&&(0,u.jsx)(a.Z,{sx:h,title:j,action:Z}),g&&j&&(0,u.jsx)(a.Z,{sx:h,title:(0,u.jsx)(l.Z,{variant:"h3",children:j}),action:Z}),j&&(0,u.jsx)(d.Z,{}),m&&(0,u.jsx)(c.Z,{sx:x,className:p,children:n}),!m&&n]})}));var p=e=>{let{children:r,...t}=e;return(0,u.jsx)(m,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...t,children:(0,u.jsx)(i.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:r})})}},2828:function(e,r,t){const i=(0,t(7630).ZP)("div")((e=>{let{theme:r}=e;return{backgroundColor:r.palette.primary.light,minHeight:"100vh"}}));r.Z=i},1417:function(e,r,t){t.r(r),t.d(r,{default:function(){return T}});var i=t(3504),n=t(3967),o=t(5193),s=t(1889),a=t(3767),l=t(890),d=t(7924),c=t(2828),u=t(7453),h=t(2791),m=t(9434),p=t(6151),x=t(4554),g=t(8096),Z=t(4925),v=t(635),f=t(7071),j=t(3466),b=t(3400),y=t(1724),w=t(5705),C=t(5177),z=t(8714),P=t(7525),_=t(3746),R=t(165),S=t(4387),k=t(5103),E=t(8395),$=t(1731),I=t(6630),M=t(6513),B=t(9021);var F=[/https?:\/\/(www|dev|test|stage|preview|miaohua)?\.?(remagi|revivai|sensetime)\.(com|io|ai)/,/https?:\/\/[a-zA-Z0-9-]+\.miaohua\.sensetime\.com/,/https?:\/\/(local|local\.miaohua|local-miaohua)\.(remagi|revivai|sensetime)\.(com|io|ai)(:[\d]{2,5})?/],K=t(184);var L=e=>{let{...r}=e;const t=(0,n.Z)(),c=(0,C.Z)(),u=(0,o.Z)(t.breakpoints.down("md")),L=(0,m.v9)((e=>e.customization)),[H,T]=(0,h.useState)(!0),A=(0,$.Z)(),[N,W]=(0,h.useState)((()=>decodeURIComponent(new URLSearchParams(location.search).get("redirect")||"")||I.Z.defaultRedirect));(0,h.useEffect)((()=>{D(N)}),[N]);const D=e=>{if(e){if(!F.some((r=>r.test(e))))return A("Redirect url is not allowed",{variant:"error",autoHideDuration:2e3}),W(""),!0;document.cookie=`_next_url=${e}; expires=0; domain=${I.Z.cookieDomain}; path=/`}},U=e=>{window.location.href=`${I.Z.loginURL}/${e}?redirect=${encodeURIComponent(N)}`},[O,q]=(0,h.useState)(!1),V=()=>{q(!O)},G=e=>{e.preventDefault()};return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(s.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:["miaohua"!==I.C&&(0,K.jsxs)(h.Fragment,{children:[(0,K.jsxs)(s.ZP,{item:!0,xs:12,children:[(0,K.jsx)(z.Z,{children:(0,K.jsxs)(p.Z,{disableElevation:!0,fullWidth:!0,onClick:()=>U("google"),size:"large",variant:"outlined",sx:{color:"grey.700",backgroundColor:t.palette.grey[50],borderColor:t.palette.grey[100]},children:[(0,K.jsx)(x.Z,{sx:{mr:{xs:1,sm:2,width:20}},children:(0,K.jsx)("img",{src:S.Z,alt:"google",width:16,height:16,style:{marginRight:u?8:16}})}),(0,K.jsx)(M.cC,{i18nKey:"user.login_google",children:B.Z.user.register_google})]})}),(0,K.jsx)(z.Z,{children:(0,K.jsxs)(p.Z,{disableElevation:!0,fullWidth:!0,onClick:()=>U("discord"),size:"large",variant:"outlined",sx:{color:"grey.700",backgroundColor:t.palette.grey[50],borderColor:t.palette.grey[100],mt:2},children:[(0,K.jsx)(x.Z,{sx:{mr:{xs:1,sm:2,width:20}},children:(0,K.jsx)("img",{src:k.Z,alt:"discord",width:16,height:16,style:{marginRight:u?8:16}})}),(0,K.jsx)(M.cC,{i18nKey:"user.login_discord",children:B.Z.user.register_discord})]})})]}),(0,K.jsx)(s.ZP,{item:!0,xs:12,children:(0,K.jsxs)(x.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,K.jsx)(d.Z,{sx:{flexGrow:1},orientation:"horizontal"}),(0,K.jsx)(p.Z,{variant:"outlined",sx:{cursor:"unset",m:2,py:.5,px:7,borderColor:`${t.palette.grey[100]} !important`,color:`${t.palette.grey[900]}!important`,fontWeight:500,borderRadius:`${L.borderRadius}px`},disableRipple:!0,disabled:!0,children:(0,K.jsx)(M.cC,{i18nKey:"user.register_or",children:B.Z.user.register_or})}),(0,K.jsx)(d.Z,{sx:{flexGrow:1},orientation:"horizontal"})]})})]}),(0,K.jsx)(s.ZP,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:(0,K.jsx)(x.Z,{sx:{mb:2},children:(0,K.jsx)(l.Z,{variant:"subtitle1",children:(0,K.jsx)(M.cC,{i18nKey:"user.login_tips2",children:B.Z.user.register_tips2})})})})]},P.Z.location.key),(0,K.jsx)(w.J9,{initialValues:{email:"",password:"",remember:!0,submit:null},validationSchema:y.Ry().shape({email:y.Z_().max(255).required((0,K.jsx)(M.cC,{i18nKey:"user.login_username_error",children:B.Z.user.login_username_error})),password:y.Z_().max(255).required((0,K.jsx)(M.cC,{i18nKey:"user.login_password_error",children:B.Z.user.login_password_error}))}),onSubmit:async(e,r)=>{let{setErrors:t,setStatus:i,setSubmitting:n}=r;const{email:o,password:s}=e,{code:a,msg:l}=await E.x4(o,s,H).catch((e=>e));0===a?!D(N)&&location.replace(N):A(l||E.c9,{variant:"error"}),c.current&&(i({success:!0}),n(!1))},children:e=>{let{errors:n,handleBlur:o,handleChange:s,handleSubmit:d,isSubmitting:c,touched:u,values:h}=e;return(0,K.jsxs)("form",{noValidate:!0,onSubmit:d,...r,children:[(0,K.jsxs)(g.Z,{fullWidth:!0,error:Boolean(u.email&&n.email),sx:{...t.typography.customInput},children:[(0,K.jsx)(Z.Z,{htmlFor:"outlined-adornment-email-login",children:(0,K.jsx)(M.cC,{i18nKey:"user.login_username",children:B.Z.user.login_username})}),(0,K.jsx)(v.Z,{id:"outlined-adornment-email-login",type:"email",value:h.email,name:"email",onBlur:o,onChange:s,label:"Email Address / Username",inputProps:{}}),u.email&&n.email&&(0,K.jsx)(f.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.email})]}),(0,K.jsxs)(g.Z,{fullWidth:!0,error:Boolean(u.password&&n.password),sx:{...t.typography.customInput},children:[(0,K.jsx)(Z.Z,{htmlFor:"outlined-adornment-password-login",children:(0,K.jsx)(M.cC,{i18nKey:"user.login_password",children:B.Z.user.login_password})}),(0,K.jsx)(v.Z,{id:"outlined-adornment-password-login",type:O?"text":"password",value:h.password,name:"password",onBlur:o,onChange:s,endAdornment:(0,K.jsx)(j.Z,{position:"end",children:(0,K.jsx)(b.Z,{"aria-label":"toggle password visibility",onClick:V,onMouseDown:G,edge:"end",size:"large",children:O?(0,K.jsx)(_.Z,{}):(0,K.jsx)(R.Z,{})})}),label:"Password",inputProps:{}}),u.password&&n.password&&(0,K.jsx)(f.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:n.password})]}),(0,K.jsx)(a.Z,{direction:"row",alignItems:"center",justifyContent:"right",spacing:1,children:(0,K.jsx)(l.Z,{component:i.rU,to:"/reset",variant:"subtitle1",color:"secondary",sx:{textDecoration:"none",cursor:"pointer"},children:(0,K.jsx)(M.cC,{i18nKey:"user.login_fp",children:B.Z.user.login_fp})})}),n.submit&&(0,K.jsx)(x.Z,{sx:{mt:3},children:(0,K.jsx)(f.Z,{error:!0,children:n.submit})}),(0,K.jsx)(x.Z,{sx:{mt:2},children:(0,K.jsx)(z.Z,{children:(0,K.jsx)(p.Z,{disableElevation:!0,disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:(0,K.jsx)(M.cC,{i18nKey:"user.login_si",children:B.Z.user.login_si})})})})]})}})]})},H=t(4904);var T=()=>{const e=(0,n.Z)(),r=(0,o.Z)(e.breakpoints.down("md"));return(0,K.jsx)(c.Z,{children:(0,K.jsx)(s.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,K.jsx)(s.ZP,{item:!0,xs:12,children:(0,K.jsx)(s.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,K.jsx)(s.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,K.jsx)(u.Z,{children:(0,K.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,K.jsx)(s.ZP,{item:!0,sx:{mb:3},children:(0,K.jsx)(H.Z,{})}),(0,K.jsx)(s.ZP,{item:!0,xs:12,children:(0,K.jsx)(s.ZP,{container:!0,direction:r?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,K.jsx)(s.ZP,{item:!0,children:(0,K.jsx)(a.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:(0,K.jsx)(l.Z,{color:e.palette.secondary.main,gutterBottom:!0,variant:r?"h3":"h2",children:(0,K.jsx)(M.cC,{i18nKey:"user.login_tips1",children:B.Z.user.login_tips1})})})})})}),(0,K.jsx)(s.ZP,{item:!0,xs:12,children:(0,K.jsx)(L,{})}),(0,K.jsx)(s.ZP,{item:!0,xs:12,children:(0,K.jsx)(d.Z,{})}),(0,K.jsx)(s.ZP,{item:!0,xs:12,children:(0,K.jsx)(s.ZP,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:(0,K.jsx)(l.Z,{component:i.rU,to:"/register",variant:"subtitle1",sx:{textDecoration:"none"},children:(0,K.jsx)(M.cC,{i18nKey:"user.login_tosignin",children:B.Z.user.login_tosignin})})})})]})})})})})})})}},3746:function(e,r,t){var i=t(1941);r.Z=void 0;var n=i(t(5649)),o=t(184),s=(0,n.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");r.Z=s},165:function(e,r,t){var i=t(1941);r.Z=void 0;var n=i(t(5649)),o=t(184),s=(0,n.default)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");r.Z=s},3400:function(e,r,t){t.d(r,{Z:function(){return f}});var i=t(1048),n=t(2793),o=t(2791),s=t(8182),a=t(4419),l=t(2065),d=t(7630),c=t(3736),u=t(3701),h=t(4036),m=t(1217);function p(e){return(0,m.Z)("MuiIconButton",e)}var x=(0,t(5878).Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),g=t(184);const Z=["edge","children","className","color","disabled","disableFocusRipple","size"],v=(0,d.ZP)(u.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,"default"!==t.color&&r[`color${(0,h.Z)(t.color)}`],t.edge&&r[`edge${(0,h.Z)(t.edge)}`],r[`size${(0,h.Z)(t.size)}`]]}})((e=>{let{theme:r,ownerState:t}=e;return(0,n.Z)({textAlign:"center",flex:"0 0 auto",fontSize:r.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(r.vars||r).palette.action.active,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.active} / ${r.vars.palette.action.hoverOpacity})`:(0,l.Fq)(r.palette.action.active,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),(e=>{let{theme:r,ownerState:t}=e;return(0,n.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,n.Z)({color:(r.vars||r).palette[t.color].main},!t.disableRipple&&{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette[t.color].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,l.Fq)(r.palette[t.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===t.size&&{padding:5,fontSize:r.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:r.typography.pxToRem(28)},{[`&.${x.disabled}`]:{backgroundColor:"transparent",color:(r.vars||r).palette.action.disabled}})}));var f=o.forwardRef((function(e,r){const t=(0,c.Z)({props:e,name:"MuiIconButton"}),{edge:o=!1,children:l,className:d,color:u="default",disabled:m=!1,disableFocusRipple:x=!1,size:f="medium"}=t,j=(0,i.Z)(t,Z),b=(0,n.Z)({},t,{edge:o,color:u,disabled:m,disableFocusRipple:x,size:f}),y=(e=>{const{classes:r,disabled:t,color:i,edge:n,size:o}=e,s={root:["root",t&&"disabled","default"!==i&&`color${(0,h.Z)(i)}`,n&&`edge${(0,h.Z)(n)}`,`size${(0,h.Z)(o)}`]};return(0,a.Z)(s,p,r)})(b);return(0,g.jsx)(v,(0,n.Z)({className:(0,s.Z)(y.root,d),centerRipple:!0,focusRipple:!x,disabled:m,ref:r,ownerState:b},j,{children:l}))}))},3466:function(e,r,t){t.d(r,{Z:function(){return b}});var i=t(1048),n=t(2793),o=t(2791),s=t(8182),a=t(4419),l=t(4036),d=t(890),c=t(3840),u=t(2930),h=t(7630),m=t(1217);function p(e){return(0,m.Z)("MuiInputAdornment",e)}var x,g=(0,t(5878).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),Z=t(3736),v=t(184);const f=["children","className","component","disablePointerEvents","disableTypography","position","variant"],j=(0,h.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`position${(0,l.Z)(t.position)}`],!0===t.disablePointerEvents&&r.disablePointerEvents,r[t.variant]]}})((e=>{let{theme:r,ownerState:t}=e;return(0,n.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(r.vars||r).palette.action.active},"filled"===t.variant&&{[`&.${g.positionStart}&:not(.${g.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})}));var b=o.forwardRef((function(e,r){const t=(0,Z.Z)({props:e,name:"MuiInputAdornment"}),{children:h,className:m,component:g="div",disablePointerEvents:b=!1,disableTypography:y=!1,position:w,variant:C}=t,z=(0,i.Z)(t,f),P=(0,u.Z)()||{};let _=C;C&&P.variant,P&&!_&&(_=P.variant);const R=(0,n.Z)({},t,{hiddenLabel:P.hiddenLabel,size:P.size,disablePointerEvents:b,position:w,variant:_}),S=(e=>{const{classes:r,disablePointerEvents:t,hiddenLabel:i,position:n,size:o,variant:s}=e,d={root:["root",t&&"disablePointerEvents",n&&`position${(0,l.Z)(n)}`,s,i&&"hiddenLabel",o&&`size${(0,l.Z)(o)}`]};return(0,a.Z)(d,p,r)})(R);return(0,v.jsx)(c.Z.Provider,{value:null,children:(0,v.jsx)(j,(0,n.Z)({as:g,ownerState:R,className:(0,s.Z)(S.root,m),ref:r},z,{children:"string"!==typeof h||y?(0,v.jsxs)(o.Fragment,{children:["start"===w?x||(x=(0,v.jsx)("span",{className:"notranslate",children:"\u200b"})):null,h]}):(0,v.jsx)(d.Z,{color:"text.secondary",children:h})}))})}))}}]);
//# sourceMappingURL=417.967f6458.chunk.js.map