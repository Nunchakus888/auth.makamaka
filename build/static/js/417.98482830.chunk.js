"use strict";(self.webpackChunkauth_makamaka_io=self.webpackChunkauth_makamaka_io||[]).push([[417],{4904:function(e,r,t){t(3197);var n=t(3701),s=t(4554),i=(t(2791),t(9381)),o=t(184);r.Z=e=>{const r=i.BY?i.yR:i.Oo,t=i.BY?"100px":"200px";return(0,o.jsx)(n.Z,{disabled:!0,children:(0,o.jsx)(s.Z,{sx:{display:"flex",gap:"5px",alignItems:"center"},children:(0,o.jsx)("img",{src:r,style:{width:t}})})})}},5876:function(e,r,t){t.d(r,{Z:function(){return T}});var n=t(4554),s=t(2791),i=t(3967),o=t(2793),a=t(1048),l=t(8182),d=t(4419),c=t(7630),u=t(3736),m=t(703),h=t(1217),x=t(9407);function p(e){return(0,h.Z)("MuiCard",e)}(0,x.Z)("MuiCard",["root"]);var g=t(184);const Z=["className","raised"],j=(0,c.ZP)(m.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({overflow:"hidden"})));var y=s.forwardRef((function(e,r){const t=(0,u.Z)({props:e,name:"MuiCard"}),{className:n,raised:s=!1}=t,i=(0,a.Z)(t,Z),c=(0,o.Z)({},t,{raised:s}),m=(e=>{const{classes:r}=e;return(0,d.Z)({root:["root"]},p,r)})(c);return(0,g.jsx)(j,(0,o.Z)({className:(0,l.Z)(m.root,n),elevation:s?8:void 0,ref:r,ownerState:c},i))})),v=t(890);function b(e){return(0,h.Z)("MuiCardHeader",e)}var f=(0,x.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);const C=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],w=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,r)=>(0,o.Z)({[`& .${f.title}`]:r.title,[`& .${f.subheader}`]:r.subheader},r.root)})({display:"flex",alignItems:"center",padding:16}),_=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,r)=>r.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),P=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,r)=>r.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),R=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,r)=>r.content})({flex:"1 1 auto"});var k=s.forwardRef((function(e,r){const t=(0,u.Z)({props:e,name:"MuiCardHeader"}),{action:n,avatar:s,className:i,component:c="div",disableTypography:m=!1,subheader:h,subheaderTypographyProps:x,title:p,titleTypographyProps:Z}=t,j=(0,a.Z)(t,C),y=(0,o.Z)({},t,{component:c,disableTypography:m}),f=(e=>{const{classes:r}=e;return(0,d.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},b,r)})(y);let k=p;null==k||k.type===v.Z||m||(k=(0,g.jsx)(v.Z,(0,o.Z)({variant:s?"body2":"h5",className:f.title,component:"span",display:"block"},Z,{children:k})));let S=h;return null==S||S.type===v.Z||m||(S=(0,g.jsx)(v.Z,(0,o.Z)({variant:s?"body2":"body1",className:f.subheader,color:"text.secondary",component:"span",display:"block"},x,{children:S}))),(0,g.jsxs)(w,(0,o.Z)({className:(0,l.Z)(f.root,i),as:c,ref:r,ownerState:y},j,{children:[s&&(0,g.jsx)(_,{className:f.avatar,ownerState:y,children:s}),(0,g.jsxs)(R,{className:f.content,ownerState:y,children:[k,S]}),n&&(0,g.jsx)(P,{className:f.action,ownerState:y,children:n})]}))})),S=t(7924);function M(e){return(0,h.Z)("MuiCardContent",e)}(0,x.Z)("MuiCardContent",["root"]);const I=["className","component"],B=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}})));var N=s.forwardRef((function(e,r){const t=(0,u.Z)({props:e,name:"MuiCardContent"}),{className:n,component:s="div"}=t,i=(0,a.Z)(t,I),c=(0,o.Z)({},t,{component:s}),m=(e=>{const{classes:r}=e;return(0,d.Z)({root:["root"]},M,r)})(c);return(0,g.jsx)(B,(0,o.Z)({as:s,className:(0,l.Z)(m.root,n),ownerState:c,ref:r},i))}));const H={"& .MuiCardHeader-action":{mr:0}};var K=(0,s.forwardRef)(((e,r)=>{let{border:t=!0,boxShadow:n,children:s,content:o=!0,contentClass:a="",contentSX:l={},darkTitle:d,secondary:c,shadow:u,sx:m={},title:h,...x}=e;const p=(0,i.Z)();return(0,g.jsxs)(y,{ref:r,...x,sx:{border:t?"1px solid":"none",borderColor:p.palette.primary[200]+75,":hover":{boxShadow:n?u||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"},backgroundColor:"#E5E2FF",...m,".MuiCardContent-root:last-child":{paddingBottom:"12px"}},children:[!d&&h&&(0,g.jsx)(k,{sx:H,title:h,action:c}),d&&h&&(0,g.jsx)(k,{sx:H,title:(0,g.jsx)(v.Z,{variant:"h3",children:h}),action:c}),h&&(0,g.jsx)(S.Z,{}),o&&(0,g.jsx)(N,{sx:l,className:a,children:s}),!o&&s]})}));var T=e=>{let{children:r,...t}=e;return(0,g.jsx)(K,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...t,children:(0,g.jsx)(n.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:r})})}},2828:function(e,r,t){const n=(0,t(7630).ZP)("div")((e=>{let{theme:r}=e;return{backgroundColor:r.palette.primary.light,minHeight:"100vh"}}));r.Z=n},1417:function(e,r,t){t.r(r),t.d(r,{default:function(){return z}});var n=t(3504),s=t(3967),i=t(5193),o=t(1889),a=t(3767),l=t(890),d=t(7924),c=t(2828),u=t(5876),m=t(2791),h=t(9434),x=t(9381),p=t(6151),g=t(4554),Z=t(8096),j=t(4925),y=t(635),v=t(7071),b=t(3466),f=t(3400),C=t(1724),w=t(5705),_=t(5878),P=t(752),R=t(7525),k=t(3746),S=t(165),M=t(4387),I=t(8395),B=t(1731),N=t(1995),H=t(6513),K=t(9021);var T=[/https?:\/\/(www|dev|test|stage|preview|miaohua)?\.?(remagi|revivai|sensetime)\.(com|io|ai)/,/https?:\/\/[a-zA-Z0-9-]+\.miaohua\.sensetime\.com/,/https?:\/\/(local|local\.miaohua|local-miaohua)\.(remagi|revivai|sensetime)\.(com|io|ai)(:[\d]{2,5})?/],$=t(184);var E=e=>{let{...r}=e;const t=(0,s.Z)(),n=(0,_.Z)(),c=(0,i.Z)(t.breakpoints.down("md")),u=(0,h.v9)((e=>e.customization)),[E,W]=(0,m.useState)(!0),z=(0,B.Z)(),[A,D]=(0,m.useState)((()=>decodeURIComponent(new URLSearchParams(location.search).get("redirect")||"")||N._l));(0,m.useEffect)((()=>{F(A)}),[A]);const F=e=>{if(e){if(!T.some((r=>r.test(e))))return z("Redirect url is not allowed",{variant:"error",autoHideDuration:2e3}),D(""),!0;document.cookie=`_next_url=${e}; expires=0; domain=${N.pR}; path=/`}},U=e=>{window.location.href=`${N.b0}/${e}?redirect=${encodeURIComponent(A)}`},G=()=>{location.replace("/reset")},[q,J]=(0,m.useState)(!1),L=()=>{J(!q)},V=e=>{e.preventDefault()};return(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(o.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:[!x.BY&&(0,$.jsxs)(m.Fragment,{children:[(0,$.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,$.jsx)(P.Z,{children:(0,$.jsxs)(p.Z,{disableElevation:!0,fullWidth:!0,onClick:()=>U("google"),size:"large",variant:"outlined",sx:{color:"grey.700",backgroundColor:t.palette.grey[50],borderColor:t.palette.grey[100]},children:[(0,$.jsx)(g.Z,{sx:{mr:{xs:1,sm:2,width:20}},children:(0,$.jsx)("img",{src:M.Z,alt:"google",width:16,height:16,style:{marginRight:c?8:16}})}),(0,$.jsx)(H.cC,{i18nKey:"user.login_google",children:K.Z.user.register_google})]})}),(0,$.jsx)(P.Z,{children:(0,$.jsxs)(p.Z,{disableElevation:!0,fullWidth:!0,onClick:()=>U("discord"),size:"large",variant:"outlined",sx:{color:"grey.700",backgroundColor:t.palette.grey[50],borderColor:t.palette.grey[100],mt:2},children:[(0,$.jsx)(g.Z,{sx:{mr:{xs:1,sm:2,width:20}},children:(0,$.jsx)("img",{src:"https://bkmk.oss-accelerate.aliyuncs.com/discord-icon.png?OSSAccessKeyId=LTAI5tPynodLHeacT1J5SmWh&Expires=317031892813&Signature=HWVUkGjrF38Dt8qmSTPBJ2bBAdI%3D",alt:"discord",width:16,height:16,style:{marginRight:c?8:16}})}),(0,$.jsx)(H.cC,{i18nKey:"user.login_discord",children:K.Z.user.register_discord})]})})]}),(0,$.jsx)(o.ZP,{item:!0,xs:12,children:(0,$.jsxs)(g.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,$.jsx)(d.Z,{sx:{flexGrow:1},orientation:"horizontal"}),(0,$.jsx)(p.Z,{variant:"outlined",sx:{cursor:"unset",m:2,py:.5,px:7,borderColor:`${t.palette.grey[100]} !important`,color:`${t.palette.grey[900]}!important`,fontWeight:500,borderRadius:`${u.borderRadius}px`},disableRipple:!0,disabled:!0,children:(0,$.jsx)(H.cC,{i18nKey:"user.register_or",children:K.Z.user.register_or})}),(0,$.jsx)(d.Z,{sx:{flexGrow:1},orientation:"horizontal"})]})})]}),(0,$.jsx)(o.ZP,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:(0,$.jsx)(g.Z,{sx:{mb:2},children:(0,$.jsx)(l.Z,{variant:"subtitle1",children:(0,$.jsx)(H.cC,{i18nKey:"user.login_tips2",children:K.Z.user.register_tips2})})})})]},R.Z.location.key),(0,$.jsx)(w.J9,{initialValues:{email:"",password:"",remember:!0,submit:null},validationSchema:C.Ry().shape({email:C.Z_().max(255).required((0,$.jsx)(H.cC,{i18nKey:"user.login_username_error",children:K.Z.user.login_username_error})),password:C.Z_().max(255).required((0,$.jsx)(H.cC,{i18nKey:"user.login_password_error",children:K.Z.user.login_password_error}))}),onSubmit:async(e,r)=>{let{setErrors:t,setStatus:s,setSubmitting:i}=r;const{email:o,password:a}=e,{code:l,msg:d}=await I.x4(o,a,E).catch((e=>e));0===l?!F(A)&&location.replace(A):z(d||I.c9,{variant:"error"}),n.current&&(s({success:!0}),i(!1))},children:e=>{let{errors:n,handleBlur:s,handleChange:i,handleSubmit:o,isSubmitting:d,touched:c,values:u}=e;return(0,$.jsxs)("form",{noValidate:!0,onSubmit:o,...r,children:[(0,$.jsxs)(Z.Z,{fullWidth:!0,error:Boolean(c.email&&n.email),sx:{...t.typography.customInput},children:[(0,$.jsx)(j.Z,{htmlFor:"outlined-adornment-email-login",children:(0,$.jsx)(H.cC,{i18nKey:"user.login_username",children:K.Z.user.login_username})}),(0,$.jsx)(y.Z,{id:"outlined-adornment-email-login",type:"email",value:u.email,name:"email",onBlur:s,onChange:i,label:"Email Address / Username",inputProps:{}}),c.email&&n.email&&(0,$.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.email})]}),(0,$.jsxs)(Z.Z,{fullWidth:!0,error:Boolean(c.password&&n.password),sx:{...t.typography.customInput},children:[(0,$.jsx)(j.Z,{htmlFor:"outlined-adornment-password-login",children:(0,$.jsx)(H.cC,{i18nKey:"user.login_password",children:K.Z.user.login_password})}),(0,$.jsx)(y.Z,{id:"outlined-adornment-password-login",type:q?"text":"password",value:u.password,name:"password",onBlur:s,onChange:i,endAdornment:(0,$.jsx)(b.Z,{position:"end",children:(0,$.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:L,onMouseDown:V,edge:"end",size:"large",children:q?(0,$.jsx)(k.Z,{}):(0,$.jsx)(S.Z,{})})}),label:"Password",inputProps:{}}),c.password&&n.password&&(0,$.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:n.password})]}),(0,$.jsx)(a.Z,{direction:"row",alignItems:"center",justifyContent:"right",spacing:1,children:(0,$.jsx)(l.Z,{onClick:G,variant:"subtitle1",color:"secondary",sx:{textDecoration:"none",cursor:"pointer"},children:(0,$.jsx)(H.cC,{i18nKey:"user.login_fp",children:K.Z.user.login_fp})})}),n.submit&&(0,$.jsx)(g.Z,{sx:{mt:3},children:(0,$.jsx)(v.Z,{error:!0,children:n.submit})}),(0,$.jsx)(g.Z,{sx:{mt:2},children:(0,$.jsx)(P.Z,{children:(0,$.jsx)(p.Z,{disableElevation:!0,disabled:d,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:(0,$.jsx)(H.cC,{i18nKey:"user.login_si",children:K.Z.user.login_si})})})})]})}})]})},W=t(4904);t(9652);var z=()=>{const e=(0,s.Z)(),r=(0,i.Z)(e.breakpoints.down("md"));return(0,$.jsx)(c.Z,{children:(0,$.jsx)(o.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,$.jsx)(o.ZP,{item:!0,xs:12,children:(0,$.jsx)(o.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,$.jsx)(o.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,$.jsx)(u.Z,{children:(0,$.jsxs)(o.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,$.jsx)(o.ZP,{item:!0,sx:{mb:3},children:(0,$.jsx)(W.Z,{})}),(0,$.jsx)(o.ZP,{item:!0,xs:12,children:(0,$.jsx)(o.ZP,{container:!0,direction:r?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,$.jsx)(o.ZP,{item:!0,children:(0,$.jsx)(a.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:(0,$.jsx)(l.Z,{color:e.palette.secondary.main,gutterBottom:!0,variant:r?"h3":"h2",children:(0,$.jsx)(H.cC,{i18nKey:"user.login_tips1",children:K.Z.user.login_tips1})})})})})}),(0,$.jsx)(o.ZP,{item:!0,xs:12,children:(0,$.jsx)(E,{})}),(0,$.jsx)(o.ZP,{item:!0,xs:12,children:(0,$.jsx)(d.Z,{})}),(0,$.jsx)(o.ZP,{item:!0,xs:12,children:(0,$.jsx)(o.ZP,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:(0,$.jsx)(l.Z,{component:n.rU,to:"/register",variant:"subtitle1",sx:{textDecoration:"none"},children:(0,$.jsx)(H.cC,{i18nKey:"user.login_tosignin",children:K.Z.user.login_tosignin})})})})]})})})})})})})}}}]);
//# sourceMappingURL=417.98482830.chunk.js.map