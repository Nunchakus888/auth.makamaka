"use strict";(self.webpackChunkauth_makamaka_io=self.webpackChunkauth_makamaka_io||[]).push([[456],{4387:function(e,r,t){t(2791);r.Z=t.p+"static/media/social-google.9887eb8eb43729cb99f402cfa0de3c44.svg"},5177:function(e,r,t){var i=t(2791);r.Z=()=>{const e=(0,i.useRef)(!0);return(0,i.useEffect)((()=>()=>{e.current=!1}),[]),e}},7525:function(e,r,t){var i=t(390);r.Z=(0,i.lX)()},4904:function(e,r,t){var i=t(3504),s=t(3197),n=t(3701),o=t(4554),a=(t(2791),t(9381)),l=t(184);r.Z=e=>{const r=a.BY?a.yR:a.Oo,t=a.BY?"100px":"200px";return(0,l.jsx)(n.Z,{disableRipple:!0,component:i.rU,to:s.Z.defaultPath,children:(0,l.jsx)(o.Z,{sx:{display:"flex",gap:"5px",alignItems:"center"},children:(0,l.jsx)("img",{src:r,style:{width:t}})})})}},8714:function(e,r,t){var i=t(2791),s=t(8258),n=t(6760),o=t(184);const a=(0,i.forwardRef)(((e,r)=>{var t,i;let a,l,{children:c,type:d,direction:u,offset:h,scale:x}=e;switch(u){case"up":case"left":a=h,l=0;break;default:a=0,l=h}const[g,m]=(0,s.n)(a,l),[p,Z]=(0,s.n)(a,l);switch(d){case"rotate":return(0,o.jsx)(n.E.div,{ref:r,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:c});case"slide":return"up"===u||"down"===u?(0,o.jsx)(n.E.div,{ref:r,animate:{y:void 0!==p?p:""},onHoverEnd:()=>Z(),onHoverStart:()=>Z(),children:c}):(0,o.jsx)(n.E.div,{ref:r,animate:{x:void 0!==g?g:""},onHoverEnd:()=>m(),onHoverStart:()=>m(),children:c});default:return"number"===typeof x&&(x={hover:x,tap:x}),(0,o.jsx)(n.E.div,{ref:r,whileHover:{scale:null===(t=x)||void 0===t?void 0:t.hover},whileTap:{scale:null===(i=x)||void 0===i?void 0:i.tap},children:c})}}));a.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},r.Z=a},7453:function(e,r,t){t.d(r,{Z:function(){return g}});var i=t(4554),s=t(2791),n=t(3967),o=t(7621),a=t(9585),l=t(890),c=t(7924),d=t(9504),u=t(184);const h={"& .MuiCardHeader-action":{mr:0}};var x=(0,s.forwardRef)(((e,r)=>{let{border:t=!0,boxShadow:i,children:s,content:x=!0,contentClass:g="",contentSX:m={},darkTitle:p,secondary:Z,shadow:j,sx:v={},title:b,...y}=e;const f=(0,n.Z)();return(0,u.jsxs)(o.Z,{ref:r,...y,sx:{border:t?"1px solid":"none",borderColor:f.palette.primary[200]+75,":hover":{boxShadow:i?j||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"},backgroundColor:"#E5E2FF",...v,".MuiCardContent-root:last-child":{paddingBottom:"12px"}},children:[!p&&b&&(0,u.jsx)(a.Z,{sx:h,title:b,action:Z}),p&&b&&(0,u.jsx)(a.Z,{sx:h,title:(0,u.jsx)(l.Z,{variant:"h3",children:b}),action:Z}),b&&(0,u.jsx)(c.Z,{}),x&&(0,u.jsx)(d.Z,{sx:m,className:g,children:s}),!x&&s]})}));var g=e=>{let{children:r,...t}=e;return(0,u.jsx)(x,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...t,children:(0,u.jsx)(i.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:r})})}},2828:function(e,r,t){const i=(0,t(7630).ZP)("div")((e=>{let{theme:r}=e;return{backgroundColor:r.palette.primary.light,minHeight:"100vh"}}));r.Z=i},4456:function(e,r,t){t.r(r),t.d(r,{default:function(){return O}});var i=t(3504),s=t(3967),n=t(5193),o=t(1889),a=t(3767),l=t(890),c=t(7924),d=t(6513),u=t(2828),h=t(7453),x=t(4904),g=t(2791),m=t(9434),p=t(9381),Z=t(8413),j=t(5661),v=t(3400),b=t(6151),y=t(4554),f=t(9157),w=t(7123),_=t(8096),C=t(4925),P=t(635),k=t(7071),S=t(3466),R=t(5523),E=t(9174),I=t(1724),K=t(5705),B=t(5177),z=t(4387),W=t(8714),H=t(8781);const D=e=>{let r=0;return e.length>5&&(r+=1),e.length>7&&(r+=1),(e=>new RegExp(/[0-9]/).test(e))(e)&&(r+=1),(e=>new RegExp(/[!#@$%^&*)(+=._-]/).test(e))(e)&&(r+=1),(e=>new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e))(e)&&(r+=1),r};var M=t(9021),U=t(9823),F=t(3746),q=t(165),A=t(8124),T=t(7525),G=t(1731),L=t(1995),$=t(5332),J=t(184);const V=(0,$.Z)(Z.Z)((e=>{let{theme:r}=e;return{"& .MuiDialogContent-root":{padding:r.spacing(2)},"& .MuiDialogActions-root":{padding:r.spacing(1)}}}));function Y(e){const{children:r,onClose:t,...i}=e;return(0,J.jsxs)(j.Z,{sx:{m:0,p:2},...i,children:[r,t?(0,J.jsx)(v.Z,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,J.jsx)(U.Z,{})}):null]})}var N=e=>{let{...r}=e;const t=(0,s.Z)(),a=(0,B.Z)(),u=(0,n.Z)(t.breakpoints.down("md")),h=(0,m.v9)((e=>e.customization)),[x,Z]=(0,g.useState)(!1),[j,U]=(0,g.useState)(!0),$=(0,G.Z)(),[N,O]=(0,g.useState)(null),[X,Q]=(0,g.useState)(""),[ee,re]=(0,g.useState)(""),[te,ie]=(0,g.useState)(0),[se,ne]=(0,g.useState)(!1),oe=new URLSearchParams(T.Z.location.search),[ae,le]=(0,g.useState)(oe.get("invitecode")),[ce,de]=(0,g.useState)(0),[ue,he]=(0,g.useState)(),xe=()=>{ne(!0)},ge=()=>{ne(!1)},me=()=>{Z(!x)},pe=e=>{e.preventDefault()},Ze=e=>{const r=D(e);var t;de(r),he((t=r)<2?{label:"Poor",color:H.Z.errorMain}:t<3?{label:"Weak",color:H.Z.warningDark}:t<4?{label:"Normal",color:H.Z.orangeMain}:t<5?{label:"Good",color:H.Z.successMain}:t<6?{label:"Strong",color:H.Z.successDark}:{label:"Poor",color:H.Z.errorMain})};return(0,g.useEffect)((()=>{const e=new URLSearchParams(T.Z.location.search);ie(e.get("login")),"1"===e.get("login")&&location.replace("/")}),[]),(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)(o.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:[!p.BY&&(0,J.jsxs)(g.Fragment,{children:[(0,J.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,J.jsx)(W.Z,{children:(0,J.jsxs)(b.Z,{variant:"outlined",fullWidth:!0,onClick:()=>{window.location.href=L.b0+"/login/google"},size:"large",sx:{color:"grey.700",backgroundColor:t.palette.grey[50],borderColor:t.palette.grey[100]},children:[(0,J.jsx)(y.Z,{sx:{mr:{xs:1,sm:2,width:20}},children:(0,J.jsx)("img",{src:z.Z,alt:"google",width:16,height:16,style:{marginRight:u?8:16}})}),(0,J.jsx)(d.cC,{i18nKey:"user.register_google",children:M.Z.user.register_google})]})}),(0,J.jsx)(W.Z,{children:(0,J.jsxs)(b.Z,{variant:"outlined",fullWidth:!0,onClick:()=>{window.location.href=L.b0+"/login/discord"},size:"large",sx:{color:"grey.700",backgroundColor:t.palette.grey[50],borderColor:t.palette.grey[100],mt:2},children:[(0,J.jsx)(y.Z,{sx:{mr:{xs:1,sm:2,width:20}},children:(0,J.jsx)("img",{src:"https://bkmk.oss-accelerate.aliyuncs.com/discord-icon.png?OSSAccessKeyId=LTAI5tPynodLHeacT1J5SmWh&Expires=317031892813&Signature=HWVUkGjrF38Dt8qmSTPBJ2bBAdI%3D",alt:"discord",width:16,height:16,style:{marginRight:u?8:16}})}),(0,J.jsx)(d.cC,{i18nKey:"user.register_discord",children:M.Z.user.register_discord})]})})]}),(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsxs)(y.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,J.jsx)(c.Z,{sx:{flexGrow:1},orientation:"horizontal"}),(0,J.jsx)(b.Z,{variant:"outlined",sx:{cursor:"unset",m:2,py:.5,px:7,borderColor:`${t.palette.grey[100]} !important`,color:`${t.palette.grey[900]}!important`,fontWeight:500,borderRadius:`${h.borderRadius}px`},disableRipple:!0,disabled:!0,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_or",children:M.Z.user.register_or})}),(0,J.jsx)(c.Z,{sx:{flexGrow:1},orientation:"horizontal"})]})})]}),(0,J.jsx)(o.ZP,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:(0,J.jsx)(y.Z,{sx:{mb:2},children:(0,J.jsx)(l.Z,{variant:"subtitle1",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_tips2",children:M.Z.user.register_tips2})})})})]}),(0,J.jsxs)(V,{onClose:ge,"aria-labelledby":"customized-dialog-title",open:se,children:[(0,J.jsx)(Y,{id:"customized-dialog-title",onClose:ge,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_agree_title",children:M.Z.user.register_agree_title})}),(0,J.jsx)(f.Z,{dividers:!0,children:(0,J.jsx)(l.Z,{gutterBottom:!0,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_agree_Content",children:M.Z.user.register_agree_Content})})}),(0,J.jsx)(w.Z,{children:(0,J.jsx)(b.Z,{onClick:ge,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_agree_bottom",children:M.Z.user.register_agree_bottom})})})]}),(0,J.jsx)(K.J9,{initialValues:{email:"",password:"",submit:null,username:"",invite_code:ae},validationSchema:I.Ry().shape({email:I.Z_().email("Must be a valid email").max(255).required("Email is required"),password:I.Z_().max(255).required("Password is required"),username:I.Z_().max(255).required("Username is required")}),onSubmit:async(e,r)=>{let{setErrors:t,setStatus:i,setSubmitting:s}=r;if("0"===te){const r=new URLSearchParams(T.Z.location.search);e.provider=r.get("provider"),e.provprovider_user_idider=r.get("provider_user_id"),e.provider_user_login=r.get("provider_user_login"),e.invite_code=r.get("invite_code")}const{code:n}=await A.IU(e).catch((e=>e));try{0===n?(T.Z.replace({pathname:"/checking",state:{}}),T.Z.go(0)):109===n?$("\u90ae\u7bb1\u5df2\u88ab\u6ce8\u518c",{variant:"error"}):110===n?$("\u7528\u6237\u540d\u5df2\u88ab\u4f7f\u7528",{variant:"error"}):111===n?$("\u90ae\u7bb1\u4e0d\u901a\uff0c\u53d1\u9001\u90ae\u4ef6\u5931\u8d25",{variant:"error"}):112===n&&$("\u9080\u8bf7\u7801\u4e0d\u5bf9",{variant:"error"}),a.current&&(i({success:!0}),s(!1))}catch(o){console.error(o),a.current&&(i({success:!1}),t({submit:o.message}),s(!1))}},children:e=>{let{errors:s,handleBlur:n,handleChange:a,handleSubmit:c,isSubmitting:u,touched:h,values:g}=e;return(0,J.jsxs)("form",{noValidate:!0,onSubmit:c,...r,children:[(0,J.jsxs)(_.Z,{fullWidth:!0,error:Boolean(h.username&&s.username),sx:{...t.typography.customInput},children:[(0,J.jsx)(C.Z,{htmlFor:"outlined-adornment-email-register",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_username",children:M.Z.user.register_username})}),(0,J.jsx)(P.Z,{id:"outlined-adornment-email-register",type:"username",value:g.username,name:"username",onBlur:n,onChange:a,inputProps:{}}),h.username&&s.username&&(0,J.jsx)(k.Z,{error:!0,id:"standard-weight-helper-text--register",children:s.username})]}),(0,J.jsxs)(_.Z,{fullWidth:!0,error:Boolean(h.email&&s.email),sx:{...t.typography.customInput},children:[(0,J.jsx)(C.Z,{htmlFor:"outlined-adornment-email-register",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_email",children:M.Z.user.register_email})}),(0,J.jsx)(P.Z,{id:"outlined-adornment-email-register",type:"email",value:g.email,name:"email",onBlur:n,onChange:a,inputProps:{}}),h.email&&s.email&&(0,J.jsx)(k.Z,{error:!0,id:"standard-weight-helper-text--register",children:s.email})]}),(0,J.jsxs)(_.Z,{fullWidth:!0,error:Boolean(h.password&&s.password),sx:{...t.typography.customInput},children:[(0,J.jsx)(C.Z,{htmlFor:"outlined-adornment-password-register",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_password",children:M.Z.user.register_password})}),(0,J.jsx)(P.Z,{id:"outlined-adornment-password-register",type:x?"text":"password",value:g.password,name:"password",label:"Password",onBlur:n,onChange:e=>{a(e),Ze(e.target.value)},endAdornment:(0,J.jsx)(S.Z,{position:"end",children:(0,J.jsx)(v.Z,{"aria-label":"toggle password visibility",onClick:me,onMouseDown:pe,edge:"end",size:"large",children:x?(0,J.jsx)(F.Z,{}):(0,J.jsx)(q.Z,{})})}),inputProps:{}}),h.password&&s.password&&(0,J.jsx)(k.Z,{error:!0,id:"standard-weight-helper-text-password-register",children:s.password})]}),0!==ce&&(0,J.jsx)(_.Z,{fullWidth:!0,children:(0,J.jsx)(y.Z,{sx:{mb:2},children:(0,J.jsxs)(o.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,J.jsx)(o.ZP,{item:!0,children:(0,J.jsx)(y.Z,{style:{backgroundColor:null===ue||void 0===ue?void 0:ue.color},sx:{width:85,height:8,borderRadius:"7px"}})}),(0,J.jsx)(o.ZP,{item:!0,children:(0,J.jsx)(l.Z,{variant:"subtitle1",fontSize:"0.75rem",children:null===ue||void 0===ue?void 0:ue.label})})]})})}),(0,J.jsx)(o.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,J.jsx)(o.ZP,{item:!0,children:(0,J.jsx)(R.Z,{control:(0,J.jsx)(E.Z,{checked:j,onChange:e=>U(e.target.checked),name:"checked",color:"primary"}),label:(0,J.jsxs)(l.Z,{variant:"subtitle1",children:[(0,J.jsx)(d.cC,{i18nKey:"user.register_aw1",children:M.Z.user.register_aw1}),(0,J.jsx)(l.Z,{variant:"subtitle1",component:i.rU,to:"#",onClick:xe,children:(0,J.jsx)(d.cC,{i18nKey:"user.register_aw2",children:M.Z.user.register_aw2})})]})})})}),s.submit&&(0,J.jsx)(y.Z,{sx:{mt:3},children:(0,J.jsx)(k.Z,{error:!0,children:s.submit})}),(0,J.jsx)(y.Z,{sx:{mt:2},children:(0,J.jsx)(W.Z,{children:(0,J.jsx)(b.Z,{disableElevation:!0,disabled:u,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_lable",children:M.Z.user.register_lable})})})})]})}})]})};t(9652);var O=()=>{const e=(0,s.Z)(),r=(0,n.Z)(e.breakpoints.down("md"));return(0,J.jsx)(u.Z,{children:(0,J.jsx)(o.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsx)(o.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,J.jsx)(o.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,J.jsx)(h.Z,{children:(0,J.jsxs)(o.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,J.jsx)(o.ZP,{item:!0,sx:{mb:3},children:(0,J.jsx)(i.rU,{to:"#",children:(0,J.jsx)(x.Z,{})})}),(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsx)(o.ZP,{container:!0,direction:r?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,J.jsx)(o.ZP,{item:!0,children:(0,J.jsxs)(a.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,J.jsx)(l.Z,{color:e.palette.secondary.main,gutterBottom:!0,variant:r?"h3":"h2",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_lable",children:M.Z.user.register_lable})}),(0,J.jsx)(l.Z,{variant:"caption",fontSize:"16px",textAlign:r?"center":"inherit",children:(0,J.jsx)(d.cC,{i18nKey:"user.register_tips1",children:M.Z.user.register_tips1})})]})})})}),(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsx)(N,{})}),(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsx)(c.Z,{})}),(0,J.jsx)(o.ZP,{item:!0,xs:12,children:(0,J.jsx)(o.ZP,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:(0,J.jsx)(l.Z,{component:i.rU,to:"/login",variant:"subtitle1",sx:{textDecoration:"none"},children:(0,J.jsx)(d.cC,{i18nKey:"user.register_tosignup",children:M.Z.user.register_tosignup})})})})]})})})})})})})}}}]);
//# sourceMappingURL=456.08c5368c.chunk.js.map