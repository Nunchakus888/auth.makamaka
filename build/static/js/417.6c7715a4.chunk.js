"use strict";(self.webpackChunkauth_makamaka_io=self.webpackChunkauth_makamaka_io||[]).push([[417],{4904:function(e,r,t){var n=t(3504),s=t(3197),i=t(3701),o=t(4554),a=(t(2791),t(9381)),l=t(184);r.Z=e=>{const r=a.BY?a.yR:a.Oo,t=a.BY?"100px":"200px";return(0,l.jsx)(i.Z,{disableRipple:!0,component:n.rU,to:s.Z.defaultPath,children:(0,l.jsx)(o.Z,{sx:{display:"flex",gap:"5px",alignItems:"center"},children:(0,l.jsx)("img",{src:r,style:{width:t}})})})}},5876:function(e,r,t){t.d(r,{Z:function(){return T}});var n=t(4554),s=t(2791),i=t(3967),o=t(2793),a=t(1048),l=t(8182),d=t(4419),c=t(7630),u=t(3736),h=t(703),m=t(1217),x=t(9407);function p(e){return(0,m.Z)("MuiCard",e)}(0,x.Z)("MuiCard",["root"]);var g=t(184);const Z=["className","raised"],j=(0,c.ZP)(h.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({overflow:"hidden"})));var y=s.forwardRef((function(e,r){const t=(0,u.Z)({props:e,name:"MuiCard"}),{className:n,raised:s=!1}=t,i=(0,a.Z)(t,Z),c=(0,o.Z)({},t,{raised:s}),h=(e=>{const{classes:r}=e;return(0,d.Z)({root:["root"]},p,r)})(c);return(0,g.jsx)(j,(0,o.Z)({className:(0,l.Z)(h.root,n),elevation:s?8:void 0,ref:r,ownerState:c},i))})),v=t(890);function b(e){return(0,m.Z)("MuiCardHeader",e)}var f=(0,x.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);const C=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],w=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,r)=>(0,o.Z)({[`& .${f.title}`]:r.title,[`& .${f.subheader}`]:r.subheader},r.root)})({display:"flex",alignItems:"center",padding:16}),_=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,r)=>r.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),P=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,r)=>r.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),k=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,r)=>r.content})({flex:"1 1 auto"});var R=s.forwardRef((function(e,r){const t=(0,u.Z)({props:e,name:"MuiCardHeader"}),{action:n,avatar:s,className:i,component:c="div",disableTypography:h=!1,subheader:m,subheaderTypographyProps:x,title:p,titleTypographyProps:Z}=t,j=(0,a.Z)(t,C),y=(0,o.Z)({},t,{component:c,disableTypography:h}),f=(e=>{const{classes:r}=e;return(0,d.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},b,r)})(y);let R=p;null==R||R.type===v.Z||h||(R=(0,g.jsx)(v.Z,(0,o.Z)({variant:s?"body2":"h5",className:f.title,component:"span",display:"block"},Z,{children:R})));let S=m;return null==S||S.type===v.Z||h||(S=(0,g.jsx)(v.Z,(0,o.Z)({variant:s?"body2":"body1",className:f.subheader,color:"text.secondary",component:"span",display:"block"},x,{children:S}))),(0,g.jsxs)(w,(0,o.Z)({className:(0,l.Z)(f.root,i),as:c,ref:r,ownerState:y},j,{children:[s&&(0,g.jsx)(_,{className:f.avatar,ownerState:y,children:s}),(0,g.jsxs)(k,{className:f.content,ownerState:y,children:[R,S]}),n&&(0,g.jsx)(P,{className:f.action,ownerState:y,children:n})]}))})),S=t(7924);function M(e){return(0,m.Z)("MuiCardContent",e)}(0,x.Z)("MuiCardContent",["root"]);const I=["className","component"],B=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}})));var K=s.forwardRef((function(e,r){const t=(0,u.Z)({props:e,name:"MuiCardContent"}),{className:n,component:s="div"}=t,i=(0,a.Z)(t,I),c=(0,o.Z)({},t,{component:s}),h=(e=>{const{classes:r}=e;return(0,d.Z)({root:["root"]},M,r)})(c);return(0,g.jsx)(B,(0,o.Z)({as:s,className:(0,l.Z)(h.root,n),ownerState:c,ref:r},i))}));const N={"& .MuiCardHeader-action":{mr:0}};var H=(0,s.forwardRef)(((e,r)=>{let{border:t=!0,boxShadow:n,children:s,content:o=!0,contentClass:a="",contentSX:l={},darkTitle:d,secondary:c,shadow:u,sx:h={},title:m,...x}=e;const p=(0,i.Z)();return(0,g.jsxs)(y,{ref:r,...x,sx:{border:t?"1px solid":"none",borderColor:p.palette.primary[200]+75,":hover":{boxShadow:n?u||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"},backgroundColor:"#E5E2FF",...h,".MuiCardContent-root:last-child":{paddingBottom:"12px"}},children:[!d&&m&&(0,g.jsx)(R,{sx:N,title:m,action:c}),d&&m&&(0,g.jsx)(R,{sx:N,title:(0,g.jsx)(v.Z,{variant:"h3",children:m}),action:c}),m&&(0,g.jsx)(S.Z,{}),o&&(0,g.jsx)(K,{sx:l,className:a,children:s}),!o&&s]})}));var T=e=>{let{children:r,...t}=e;return(0,g.jsx)(H,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...t,children:(0,g.jsx)(n.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:r})})}},2828:function(e,r,t){const n=(0,t(7630).ZP)("div")((e=>{let{theme:r}=e;return{backgroundColor:r.palette.primary.light,minHeight:"100vh"}}));r.Z=n},1417:function(e,r,t){t.r(r),t.d(r,{default:function(){return U}});var n=t(3504),s=t(3967),i=t(5193),o=t(1889),a=t(3767),l=t(890),d=t(7924),c=t(2828),u=t(5876),h=t(2791),m=t(9434),x=t(9381),p=t(6151),g=t(4554),Z=t(8096),j=t(4925),y=t(635),v=t(7071),b=t(3466),f=t(3400),C=t(5523),w=t(9174),_=t(1724),P=t(5705),k=t(5878),R=t(752),S=t(7525),M=t(3746),I=t(165),B=t(4387),K=t(8395),N=t(1731),H=t(1995),T=t(6513),$=t(9021);var z=[/https?:\/\/(www|dev|test|stage|preview|miaohua)?\.?(remagi|revivai|sensetime)\.(com|io|ai)/,/https?:\/\/[a-zA-Z0-9-]+\.miaohua\.sensetime\.com/,/https?:\/\/(local|local\.miaohua|local-miaohua)\.(remagi|revivai|sensetime)\.(com|io|ai)(:[\d]{2,5})?/],A=t(184);var E=e=>{let{...r}=e;const t=(0,s.Z)(),n=(0,k.Z)(),c=(0,i.Z)(t.breakpoints.down("md")),u=(0,m.v9)((e=>e.customization)),[E,W]=(0,h.useState)(!0),U=(0,N.Z)(),[D,F]=(0,h.useState)((()=>decodeURIComponent(new URLSearchParams(location.search).get("redirect")||"")||H._l));(0,h.useEffect)((()=>{G(D)}),[D]);const G=e=>{if(e){if(!z.some((r=>r.test(e))))return U("Redirect url is not allowed",{variant:"error",autoHideDuration:2e3}),F(""),!0;document.cookie=`_next_url=${e}; expires=0; domain=${H.pR}; path=/`}},q=e=>{window.location.href=`${H.b0}/${e}?redirect=${encodeURIComponent(D)}`},J=()=>{location.replace("/reset")},[L,V]=(0,h.useState)(!1),Y=()=>{V(!L)},O=e=>{e.preventDefault()};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(o.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:[!x.BY&&(0,A.jsxs)(h.Fragment,{children:[(0,A.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,A.jsx)(R.Z,{children:(0,A.jsxs)(p.Z,{disableElevation:!0,fullWidth:!0,onClick:()=>q("google"),size:"large",variant:"outlined",sx:{color:"grey.700",backgroundColor:t.palette.grey[50],borderColor:t.palette.grey[100]},children:[(0,A.jsx)(g.Z,{sx:{mr:{xs:1,sm:2,width:20}},children:(0,A.jsx)("img",{src:B.Z,alt:"google",width:16,height:16,style:{marginRight:c?8:16}})}),(0,A.jsx)(T.cC,{i18nKey:"user.login_google",children:$.Z.user.register_google})]})}),(0,A.jsx)(R.Z,{children:(0,A.jsxs)(p.Z,{disableElevation:!0,fullWidth:!0,onClick:()=>q("discord"),size:"large",variant:"outlined",sx:{color:"grey.700",backgroundColor:t.palette.grey[50],borderColor:t.palette.grey[100],mt:2},children:[(0,A.jsx)(g.Z,{sx:{mr:{xs:1,sm:2,width:20}},children:(0,A.jsx)("img",{src:"https://bkmk.oss-accelerate.aliyuncs.com/discord-icon.png?OSSAccessKeyId=LTAI5tPynodLHeacT1J5SmWh&Expires=317031892813&Signature=HWVUkGjrF38Dt8qmSTPBJ2bBAdI%3D",alt:"discord",width:16,height:16,style:{marginRight:c?8:16}})}),(0,A.jsx)(T.cC,{i18nKey:"user.login_discord",children:$.Z.user.register_discord})]})})]}),(0,A.jsx)(o.ZP,{item:!0,xs:12,children:(0,A.jsxs)(g.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,A.jsx)(d.Z,{sx:{flexGrow:1},orientation:"horizontal"}),(0,A.jsx)(p.Z,{variant:"outlined",sx:{cursor:"unset",m:2,py:.5,px:7,borderColor:`${t.palette.grey[100]} !important`,color:`${t.palette.grey[900]}!important`,fontWeight:500,borderRadius:`${u.borderRadius}px`},disableRipple:!0,disabled:!0,children:(0,A.jsx)(T.cC,{i18nKey:"user.register_or",children:$.Z.user.register_or})}),(0,A.jsx)(d.Z,{sx:{flexGrow:1},orientation:"horizontal"})]})})]}),(0,A.jsx)(o.ZP,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:(0,A.jsx)(g.Z,{sx:{mb:2},children:(0,A.jsx)(l.Z,{variant:"subtitle1",children:(0,A.jsx)(T.cC,{i18nKey:"user.login_tips2",children:$.Z.user.register_tips2})})})})]},S.Z.location.key),(0,A.jsx)(P.J9,{initialValues:{email:"",password:"",remember:!0,submit:null},validationSchema:_.Ry().shape({email:_.Z_().max(255).required((0,A.jsx)(T.cC,{i18nKey:"user.login_username_error",children:$.Z.user.login_username_error})),password:_.Z_().max(255).required((0,A.jsx)(T.cC,{i18nKey:"user.login_password_error",children:$.Z.user.login_password_error}))}),onSubmit:async(e,r)=>{let{setErrors:t,setStatus:s,setSubmitting:i}=r;const{email:o,password:a}=e,{code:l,msg:d}=await K.x4(o,a,E).catch((e=>e));0===l?!G(D)&&location.replace(D):U(d||K.c9,{variant:"error"}),n.current&&(s({success:!0}),i(!1))},children:e=>{let{errors:n,handleBlur:s,handleChange:i,handleSubmit:o,isSubmitting:d,touched:c,values:u}=e;return(0,A.jsxs)("form",{noValidate:!0,onSubmit:o,...r,children:[(0,A.jsxs)(Z.Z,{fullWidth:!0,error:Boolean(c.email&&n.email),sx:{...t.typography.customInput},children:[(0,A.jsx)(j.Z,{htmlFor:"outlined-adornment-email-login",children:(0,A.jsx)(T.cC,{i18nKey:"user.login_username",children:$.Z.user.login_username})}),(0,A.jsx)(y.Z,{id:"outlined-adornment-email-login",type:"email",value:u.email,name:"email",onBlur:s,onChange:i,label:"Email Address / Username",inputProps:{}}),c.email&&n.email&&(0,A.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.email})]}),(0,A.jsxs)(Z.Z,{fullWidth:!0,error:Boolean(c.password&&n.password),sx:{...t.typography.customInput},children:[(0,A.jsx)(j.Z,{htmlFor:"outlined-adornment-password-login",children:(0,A.jsx)(T.cC,{i18nKey:"user.login_password",children:$.Z.user.login_password})}),(0,A.jsx)(y.Z,{id:"outlined-adornment-password-login",type:L?"text":"password",value:u.password,name:"password",onBlur:s,onChange:i,endAdornment:(0,A.jsx)(b.Z,{position:"end",children:(0,A.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:Y,onMouseDown:O,edge:"end",size:"large",children:L?(0,A.jsx)(M.Z,{}):(0,A.jsx)(I.Z,{})})}),label:"Password",inputProps:{}}),c.password&&n.password&&(0,A.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:n.password})]}),(0,A.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[(0,A.jsx)(C.Z,{control:(0,A.jsx)(w.Z,{checked:E,onChange:e=>{W(e.target.checked)},name:"checked",color:"primary"}),label:(0,A.jsx)(T.cC,{i18nKey:"user.login_rm",children:$.Z.user.login_rm})}),(0,A.jsx)(l.Z,{onClick:J,variant:"subtitle1",color:"secondary",sx:{textDecoration:"none",cursor:"pointer"},children:(0,A.jsx)(T.cC,{i18nKey:"user.login_fp",children:$.Z.user.login_fp})})]}),n.submit&&(0,A.jsx)(g.Z,{sx:{mt:3},children:(0,A.jsx)(v.Z,{error:!0,children:n.submit})}),(0,A.jsx)(g.Z,{sx:{mt:2},children:(0,A.jsx)(R.Z,{children:(0,A.jsx)(p.Z,{disableElevation:!0,disabled:d,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:(0,A.jsx)(T.cC,{i18nKey:"user.login_si",children:$.Z.user.login_si})})})})]})}})]})},W=t(4904);t(9652);var U=()=>{const e=(0,s.Z)(),r=(0,i.Z)(e.breakpoints.down("md"));return(0,A.jsx)(c.Z,{children:(0,A.jsx)(o.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,A.jsx)(o.ZP,{item:!0,xs:12,children:(0,A.jsx)(o.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,A.jsx)(o.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,A.jsx)(u.Z,{children:(0,A.jsxs)(o.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,A.jsx)(o.ZP,{item:!0,sx:{mb:3},children:(0,A.jsx)(n.rU,{to:"#",children:(0,A.jsx)(W.Z,{})})}),(0,A.jsx)(o.ZP,{item:!0,xs:12,children:(0,A.jsx)(o.ZP,{container:!0,direction:r?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,A.jsx)(o.ZP,{item:!0,children:(0,A.jsxs)(a.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,A.jsx)(l.Z,{color:e.palette.secondary.main,gutterBottom:!0,variant:r?"h3":"h2",children:(0,A.jsx)(T.cC,{i18nKey:"user.login_tips1",children:$.Z.user.login_tips1})}),(0,A.jsx)(l.Z,{variant:"caption",fontSize:"16px",textAlign:r?"center":"inherit",children:(0,A.jsx)(T.cC,{i18nKey:"user.register_tips1",children:$.Z.user.register_tips1})})]})})})}),(0,A.jsx)(o.ZP,{item:!0,xs:12,children:(0,A.jsx)(E,{})}),(0,A.jsx)(o.ZP,{item:!0,xs:12,children:(0,A.jsx)(d.Z,{})}),(0,A.jsx)(o.ZP,{item:!0,xs:12,children:(0,A.jsx)(o.ZP,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:(0,A.jsx)(l.Z,{component:n.rU,to:"/register",variant:"subtitle1",sx:{textDecoration:"none"},children:(0,A.jsx)(T.cC,{i18nKey:"user.login_tosignin",children:$.Z.user.login_tosignin})})})})]})})})})})})})}}}]);
//# sourceMappingURL=417.6c7715a4.chunk.js.map